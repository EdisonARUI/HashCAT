**HashCAT MVP需求文档 v1.0**  
**最后更新：2025-03-22**  
**核心定位：基于比特币算力风险的链上保险协议**

---

### **一、产品定位**
1. **核心创新**  
   - 将比特币矿池算力波动风险转化为链上保险产品
   - 首创动态精算定价引擎（Dynamic Actuarial Engine）
   - 基于Sui区块链的分钟级赔付验证系统
   - BTC跨链桥接机制（待开发）

2. **差异化价值**  
   ```math
   V_{HashCAT} = \frac{(算力波动率 × 保额)}{(精算模型置信度 × 质押率)}
   ```
   通过该公式实现实时保费定价，较传统保险产品效率提升300%

---

### **二、核心功能模块**
#### **模块1：BTC跨链桥（待开发）**
- **功能描述**
  - 支持BTC到Sui的跨链转账
  - 实现BTC在Sui上的1:1锚定
  - 确保跨链安全性（多重签名机制）

#### **模块2：保险NFT铸造（Mint Insurance）**
- **功能描述**  
  - 矿工输入：算力设备ID（通过Chainlink矿池预言机验证）
  - 参数配置：保额（1-1000 BTC）、保障周期（7-90天）
  - 输出产物：保险NFT（含精算参数元数据）

#### **模块3：债券池管理**
- **功能描述**
  - 基于总投保额动态调整债券池规模
  - 仅支持BTC购买和赎回
  - 债券池收益用于支付保险赔付

#### **模块4：动态精算引擎**
- **数据输入**  
  - 实时算力数据（30+矿池API聚合）
  - 比特币网络难度调整预测
  - 历史赔付率数据库

- **核心功能**
  - 基于GARCH模型预测未来30日波动率
  - 动态调整质押率（5分钟更新周期）
  - 实时保费定价
  - 赔付阈值计算

#### **模块5：自动赔付系统**
- **触发条件**（需同时满足）  
  1. 连续2小时算力下降 ≥15%
  2. BTC价格未同步下跌（防止恶意索赔）
  3. 网络难度未发生预期外调整

- **赔付流程**
  1. 触发条件验证
  2. 时间锁确认
  3. 保险NFT验证
  4. 赔付执行

---

### **四、技术架构**
```plaintext
Layer 1: Sui区块链（核心合约）
├── 智能合约组
│   ├── ActuarialEngine.move
│   ├── InsuranceNFT.move
│   ├── BondPool.move
│   └── PayoutOracle.move

Layer 2: 混合预言机网络
├── Chainlink矿池数据流
├-> 去中心化节点验证（30+矿池）
└-> 抗女巫攻击机制（PoRA共识）

Layer 3: 前端交互层
├── React dApp界面
├-> 三维算力波动可视化仪表盘
└-> MetaMask/Suiet钱包集成
```

### **四-1、前端需求规范**
#### **1. 用户界面架构**
- **技术栈**
  - React 18 + TypeScript
  - TailwindCSS + ShadcnUI
  - Vite构建工具
  - Sui SDK集成

- **页面结构**
  ```plaintext
  ├── 布局组件
  │   ├── Header（导航栏）
  │   ├── Sidebar（侧边栏）
  │   └── Footer（页脚）
  ├── 核心页面
  │   ├── Dashboard（数据总览）
  │   ├── Insurance（保险产品）
  │   ├── BondPool（债券池）
  │   └── Profile（个人中心）
  └── 功能组件
      ├── 钱包连接器
      ├── 交易确认弹窗
      └── 通知系统
  ```

#### **2. 核心功能模块**
- **Dashboard模块**
  - 实时算力波动图表（使用ECharts）
  - 保险产品概览卡片
  - 债券池状态指标
  - 最近交易记录

- **保险产品模块**
  - 保险产品列表展示
  - 投保流程向导
  - 保单详情页面
  - 理赔申请界面

- **债券池模块**
  - 债券池状态展示
  - 购买/赎回操作界面
  - 收益计算器
  - 历史交易记录

- **个人中心模块**
  - 钱包管理
  - 保单管理
  - 债券持仓
  - 交易历史

#### **3. 交互设计规范**
- **响应式设计**
  - 移动端优先
  - 断点设计：sm(640px), md(768px), lg(1024px), xl(1280px)
  - 自适应布局

- **用户体验**
  - 页面加载时间 < 2s
  - 操作反馈时间 < 300ms
  - 表单验证即时反馈
  - 错误提示友好化

- **可访问性**
  - WCAG 2.1 AA标准
  - 键盘导航支持
  - 屏幕阅读器兼容
  - 高对比度模式

#### **4. 数据可视化要求**
- **实时数据展示**
  - WebSocket实时更新
  - 数据缓存策略
  - 离线数据支持

- **图表组件**
  - 算力波动趋势图
  - 保费定价曲线
  - 债券池流动性图表
  - 交易量热力图

#### **5. 安全要求**
- **钱包安全**
  - 私钥本地加密存储
  - 交易签名确认机制
  - 多钱包支持

- **数据安全**
  - HTTPS加密传输
  - 敏感数据脱敏
  - 防XSS/CSRF攻击

#### **6. 性能指标**
- **加载性能**
  - 首屏加载 < 2s
  - 路由切换 < 300ms
  - 资源按需加载

- **运行性能**
  - 60fps动画流畅度
  - 内存占用 < 100MB
  - 后台任务优化

---

### **五、经济模型设计**
1. **代币体系**  
   - $HCT（HashCAT Token）：治理+费用代币
   - 债券池收益分配：
     ```math
     Revenue_{pool} = 保费收入 × 85% - 赔付支出
     ```
     - 债券持有者：固定年化8-12%

2. **质押机制**  
   - 保险人需质押$HCT ≥ 保额的30%
   - 动态调整公式：
     ```math
     Collateral_{new} = Collateral_{old} × (1 + \frac{ΔHashrate}{10})
     ```
     当算力波动率每增加10%，质押率提升3%

---

### **六、风险评估与应对**
| 风险类型 | 发生概率 | 应对方案 |
|----------|----------|----------|
| 智能合约漏洞 | 5% | 采用Move语言形式化验证 + Halborn审计 |
| 预言机数据延迟 | 8% | 建立本地缓存节点 + 多预言机冗余 |
| 流动性挤兑 | 12% | 设置单日最大赔付限额（TVL的15%） |
| 跨链风险 | 15% | 多重签名机制 + 24小时时间锁 |

---

### **七、MVP开发路线图**
```gantt
    title HashCAT MVP里程碑
    section 基础架构
    Sui合约开发     :2025-03-25, 14d
    混合预言机搭建  :2025-04-05, 10d
    section 核心功能
    动态精算引擎    :2025-04-10, 21d
    债券池开发      :2025-04-15, 12d
    section 测试网
    压力测试       :2025-05-01, 7d
    白帽审计       :2025-05-05, 5d
    section 主网上线
    V1.0发布      :2025-05-15, 3d
```

---

### **八、MVP成功指标**
1. **基础指标**  
   - 100+活跃矿工投保
   - $5M TVL（保险池总锁定价值）
   - 平均赔付处理时间 < 15分钟

2. **扩展性指标**  
   - 开发3种精算模型变体（PoW/PoS/存储证明）
   - 实现BTC跨链桥接（Sui←→Bitcoin）

---

**注**：建议优先开发**保险NFT铸造+债券池系统**组合，该组合开发量占MVP总工作量的65%，但能验证90%的核心商业模式。如需进一步技术细节，可提供智能合约伪代码深度解析。